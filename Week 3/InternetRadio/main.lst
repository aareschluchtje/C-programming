GAS LISTING C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s 			page 1


   1               		.file	"main.c"
   2               		.arch atmega2561
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	SysInitIO
  12               		.type	SysInitIO, @function
  13               	SysInitIO:
  14               	/* prologue: frame size=0 */
  15               	/* prologue end (size=0) */
  16 0000 87EF      		ldi r24,lo8(-9)
  17 0002 84B9      		out 36-0x20,r24
  18 0004 8CE0      		ldi r24,lo8(12)
  19 0006 8AB9      		out 42-0x20,r24
  20 0008 8BB1      		in r24,43-0x20
  21 000a 8C70      		andi r24,lo8(12)
  22 000c 836F      		ori r24,lo8(-13)
  23 000e 8BB9      		out 43-0x20,r24
  24 0010 8EE8      		ldi r24,lo8(-114)
  25 0012 8DB9      		out 45-0x20,r24
  26 0014 8EB1      		in r24,46-0x20
  27 0016 8E78      		andi r24,lo8(-114)
  28 0018 8160      		ori r24,lo8(1)
  29 001a 8EB9      		out 46-0x20,r24
  30 001c 85B7      		in r24,85-0x20
  31 001e 8068      		ori r24,lo8(-128)
  32 0020 85BF      		out 85-0x20,r24
  33 0022 85B7      		in r24,85-0x20
  34 0024 8068      		ori r24,lo8(-128)
  35 0026 85BF      		out 85-0x20,r24
  36 0028 8EE0      		ldi r24,lo8(14)
  37 002a 80BB      		out 48-0x20,r24
  38 002c 81B3      		in r24,49-0x20
  39 002e 8E70      		andi r24,lo8(14)
  40 0030 816F      		ori r24,lo8(-15)
  41 0032 81BB      		out 49-0x20,r24
  42 0034 88E1      		ldi r24,lo8(24)
  43 0036 83BB      		out 51-0x20,r24
  44               	/* epilogue: frame size=0 */
  45 0038 0895      		ret
  46               	/* epilogue end (size=1) */
  47               	/* function SysInitIO size 29 (28) */
  48               		.size	SysInitIO, .-SysInitIO
  49               	.global	timer
  50               		.type	timer, @function
  51               	timer:
  52               	/* prologue: frame size=0 */
  53 003a EF92      		push r14
  54 003c FF92      		push r15
  55 003e 0F93      		push r16
  56 0040 1F93      		push r17
  57               	/* prologue end (size=4) */
GAS LISTING C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s 			page 2


  58 0042 7B01      		movw r14,r22
  59 0044 8C01      		movw r16,r24
  60 0046 80E0      		ldi r24,lo8(0)
  61 0048 90E0      		ldi r25,hi8(0)
  62 004a 0E94 0000 		call time
  63 004e DC01      		movw r26,r24
  64 0050 CB01      		movw r24,r22
  65 0052 8E19      		sub r24,r14
  66 0054 9F09      		sbc r25,r15
  67 0056 A00B      		sbc r26,r16
  68 0058 B10B      		sbc r27,r17
  69               	/* epilogue: frame size=0 */
  70 005a 1F91      		pop r17
  71 005c 0F91      		pop r16
  72 005e FF90      		pop r15
  73 0060 EF90      		pop r14
  74 0062 0895      		ret
  75               	/* epilogue end (size=5) */
  76               	/* function timer size 21 (12) */
  77               		.size	timer, .-timer
  78               	.global	checkOffPressed
  79               		.type	checkOffPressed, @function
  80               	checkOffPressed:
  81               	/* prologue: frame size=0 */
  82               	/* prologue end (size=0) */
  83 0064 0E94 0000 		call KbScan
  84 0068 8F5F      		subi r24,lo8(-1)
  85 006a 9F4F      		sbci r25,hi8(-1)
  86 006c 04F0      		brlt .L6
  87 006e 80E0      		ldi r24,lo8(0)
  88 0070 90E0      		ldi r25,hi8(0)
  89 0072 0895      		ret
  90               	.L6:
  91 0074 81E0      		ldi r24,lo8(1)
  92 0076 0E94 0000 		call LcdBackLight
  93 007a 81E0      		ldi r24,lo8(1)
  94 007c 90E0      		ldi r25,hi8(1)
  95 007e 0895      		ret
  96               	/* epilogue: frame size=0 */
  97               	/* epilogue: noreturn */
  98               	/* epilogue end (size=0) */
  99               	/* function checkOffPressed size 15 (15) */
 100               		.size	checkOffPressed, .-checkOffPressed
 101               	.global	NutAppMain
 102               		.type	NutAppMain, @function
 103               	NutAppMain:
 104               	/* prologue: frame size=18 */
 105 0080 CF92      		push r12
 106 0082 DF92      		push r13
 107 0084 EF92      		push r14
 108 0086 FF92      		push r15
 109 0088 0F93      		push r16
 110 008a 1F93      		push r17
 111 008c CF93      		push r28
 112 008e DF93      		push r29
 113 0090 CDB7      		in r28,__SP_L__
 114 0092 DEB7      		in r29,__SP_H__
GAS LISTING C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s 			page 3


 115 0094 6297      		sbiw r28,18
 116 0096 0FB6      		in __tmp_reg__,__SREG__
 117 0098 F894      		cli
 118 009a DEBF      		out __SP_H__,r29
 119 009c 0FBE      		out __SREG__,__tmp_reg__
 120 009e CDBF      		out __SP_L__,r28
 121               	/* prologue end (size=16) */
 122 00a0 0E94 0000 		call WatchDogDisable
 123 00a4 84E6      		ldi r24,lo8(100)
 124 00a6 0E94 0000 		call NutDelay
 125 00aa 0E94 0000 		call SysInitIO
 126 00ae 0E94 0000 		call SPIinit
 127 00b2 0E94 0000 		call LedInit
 128 00b6 0E94 0000 		call LcdLowLevelInit
 129 00ba 0E94 0000 		call Uart0DriverInit
 130 00be 0E94 0000 		call Uart0DriverStart
 131 00c2 0E94 0000 		call LogInit
 132 00c6 0E94 0000 		call CardInit
 133 00ca 0E94 0000 		call X12Init
 134 00ce CE01      		movw r24,r28
 135 00d0 0196      		adiw r24,1
 136 00d2 0E94 0000 		call X12RtcGetClock
 137 00d6 892B      		or r24,r25
 138 00d8 01F4      		brne .L11
 139 00da 8981      		ldd r24,Y+1
 140 00dc 9A81      		ldd r25,Y+2
 141 00de 9F93      		push r25
 142 00e0 8F93      		push r24
 143 00e2 8B81      		ldd r24,Y+3
 144 00e4 9C81      		ldd r25,Y+4
 145 00e6 9F93      		push r25
 146 00e8 8F93      		push r24
 147 00ea 8D81      		ldd r24,Y+5
 148 00ec 9E81      		ldd r25,Y+6
 149 00ee 9F93      		push r25
 150 00f0 8F93      		push r24
 151 00f2 80E0      		ldi r24,lo8(__c.2568)
 152 00f4 90E0      		ldi r25,hi8(__c.2568)
 153 00f6 9F93      		push r25
 154 00f8 8F93      		push r24
 155 00fa 86EC      		ldi r24,lo8(-58)
 156 00fc 8F93      		push r24
 157 00fe 0E94 0000 		call LogMsg_P
 158 0102 8DB7      		in r24,__SP_L__
 159 0104 9EB7      		in r25,__SP_H__
 160 0106 0996      		adiw r24,9
 161 0108 0FB6      		in __tmp_reg__,__SREG__
 162 010a F894      		cli
 163 010c 9EBF      		out __SP_H__,r25
 164 010e 0FBE      		out __SREG__,__tmp_reg__
 165 0110 8DBF      		out __SP_L__,r24
 166               	.L11:
 167 0112 0E94 0000 		call At45dbInit
 168 0116 0E94 0000 		call RcInit
 169 011a 0E94 0000 		call KbInit
 170 011e 40E0      		ldi r20,lo8(0)
 171 0120 50E0      		ldi r21,hi8(0)
GAS LISTING C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s 			page 4


 172 0122 60E0      		ldi r22,lo8(gs(SysMainBeatInterrupt))
 173 0124 70E0      		ldi r23,hi8(gs(SysMainBeatInterrupt))
 174 0126 80E0      		ldi r24,lo8(sig_OVERFLOW0)
 175 0128 90E0      		ldi r25,hi8(sig_OVERFLOW0)
 176 012a 0E94 0000 		call NutRegisterIrqHandler
 177 012e 892B      		or r24,r25
 178 0130 01F4      		brne .L13
 179 0132 85B5      		in r24,69-0x20
 180 0134 8460      		ori r24,lo8(4)
 181 0136 85BD      		out 69-0x20,r24
 182 0138 A89A      		sbi 53-0x20,0
 183 013a 8091 6E00 		lds r24,110
 184 013e 8160      		ori r24,lo8(1)
 185 0140 8093 6E00 		sts 110,r24
 186               	.L13:
 187 0144 81E0      		ldi r24,lo8(1)
 188 0146 0E94 0000 		call NutThreadSetPriority
 189               	/* #APP */
 190 014a 7894      		sei
 191               	/* #NOAPP */
 192 014c 00E0      		ldi r16,lo8(0)
 193 014e 10E0      		ldi r17,hi8(0)
 194               	.L15:
 195 0150 0E94 0000 		call checkOffPressed
 196 0154 0197      		sbiw r24,1
 197 0156 01F4      		brne .L16
 198 0158 80E0      		ldi r24,lo8(0)
 199 015a 90E0      		ldi r25,hi8(0)
 200 015c 0E94 0000 		call time
 201 0160 6B01      		movw r12,r22
 202 0162 7C01      		movw r14,r24
 203 0164 00C0      		rjmp .L18
 204               	.L16:
 205 0166 0130      		cpi r16,1
 206 0168 1105      		cpc r17,__zero_reg__
 207 016a 01F4      		brne .L19
 208               	.L18:
 209 016c C701      		movw r24,r14
 210 016e B601      		movw r22,r12
 211 0170 0E94 0000 		call timer
 212 0174 0A97      		sbiw r24,10
 213 0176 04F4      		brge .L20
 214 0178 01E0      		ldi r16,lo8(1)
 215 017a 10E0      		ldi r17,hi8(1)
 216 017c 00C0      		rjmp .L19
 217               	.L20:
 218 017e 80E0      		ldi r24,lo8(0)
 219 0180 0E94 0000 		call LcdBackLight
 220 0184 00E0      		ldi r16,lo8(0)
 221 0186 10E0      		ldi r17,hi8(0)
 222               	.L19:
 223 0188 0E94 0000 		call WatchDogRestart
 224 018c 00C0      		rjmp .L15
 225               	/* epilogue: frame size=18 */
 226               	/* epilogue: noreturn */
 227               	/* epilogue end (size=0) */
 228               	/* function NutAppMain size 138 (122) */
GAS LISTING C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s 			page 5


 229               		.size	NutAppMain, .-NutAppMain
 230               		.type	SysMainBeatInterrupt, @function
 231               	SysMainBeatInterrupt:
 232               	/* prologue: frame size=0 */
 233               	/* prologue end (size=0) */
 234 018e 0E94 0000 		call KbScan
 235 0192 0E94 0000 		call CardCheckCard
 236               	/* epilogue: frame size=0 */
 237 0196 0895      		ret
 238               	/* epilogue end (size=1) */
 239               	/* function SysMainBeatInterrupt size 5 (4) */
 240               		.size	SysMainBeatInterrupt, .-SysMainBeatInterrupt
 241               		.section	.progmem.data,"a",@progbits
 242               		.type	__c.2568, @object
 243               		.size	__c.2568, 26
 244               	__c.2568:
 245 0000 5254 4320 		.string	"RTC time [%02d:%02d:%02d]"
 245      7469 6D65 
 245      205B 2530 
 245      3264 3A25 
 245      3032 643A 
 246               	/* File "source/main.c": code  208 = 0x00d0 ( 181), prologues  20, epilogues   7 */
GAS LISTING C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s 			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:3      *ABS*:0000003f __SREG__
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:4      *ABS*:0000003e __SP_H__
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:5      *ABS*:0000003d __SP_L__
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:7      *ABS*:00000001 __zero_reg__
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:13     .text:00000000 SysInitIO
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:51     .text:0000003a timer
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:80     .text:00000064 checkOffPressed
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:103    .text:00000080 NutAppMain
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:244    .progmem.data:00000000 __c.2568
C:\Users\GUUSV_~1\AppData\Local\Temp/ccq6xfAd.s:231    .text:0000018e SysMainBeatInterrupt

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
time
KbScan
LcdBackLight
WatchDogDisable
NutDelay
SPIinit
LedInit
LcdLowLevelInit
Uart0DriverInit
Uart0DriverStart
LogInit
CardInit
X12Init
X12RtcGetClock
LogMsg_P
At45dbInit
RcInit
KbInit
sig_OVERFLOW0
NutRegisterIrqHandler
NutThreadSetPriority
WatchDogRestart
CardCheckCard
